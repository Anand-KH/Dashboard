<div class="notificationAlign">
  <p class="ptextalign">
    Stay updated on our latest feature by receiving notifications from us!
  </p>
  <button mat-flat-button class="buttonlearn">Learn More</button>
  <i class="fa-solid fa-xmark closeIcon"></i>
</div>
<div fxLayout="row" fxLayout.xs="column" fxLayoutAlign="space-between center">
  <div fxFlex="20">
    <app-sidenav></app-sidenav>
  </div>
  <div fxFlex="80" class="container">
    <div
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutAlign="space-between center"
      class="whitebox"
    >
      <h2 fxFlex="30" class="blackFont">Overview</h2>
      <div fxFlex="40">
        <mat-form-field class="example-full-width">
          <input matInput placeholder="Search anything here .." value="" />
        </mat-form-field>
      </div>
      <div fxFlex="5" style="margin: 10px 0px" class="alignIcon">
        <div class="box1">
          <i
            class="fa-regular fa-envelope"
            matBadge="4"
            matBadgeSize="small"
            style="font-size: 17px"
          ></i>
        </div>
        <!-- </div>
      <div fxFlex="5" align="right"> -->
        <div class="box1">
          <i
            class="fa-regular fa-bell"
            matBadge="4"
            matBadgeSize="small"
            style="font-size: 17px"
          ></i>
        </div>
      </div>
    </div>
    <div
      fxLayout="row"
      fxLayout.xs="column"
      fxLayoutAlign="center"
      class="divHeight"
    >
      <div fxFlex="30" class="whitebox1">
        <div fxLayout="row" fxLayoutAlign="center">
          <h2 fxFlex="50">
            My Cards: 1<span class="colorGrey fontSize12">/2</span>
          </h2>
          <div fxFlex="50" class="alignIcon">
            <div class="box">
              <i class="fas fa-angle-left"></i>
            </div>
            <div class="box">
              <i class="fas fa-angle-right"></i>
            </div>
          </div>
        </div>
        <div class="atm"></div>
        <div class="newCard">
          <i class="fa-solid fa-circle-plus" style="font-size: 16px"></i>
          <span class="newCardFont"> Add New card </span>
        </div>
        <mat-divider class="marginupDown20"></mat-divider>
        <h2 class="fontWeight500">Quick Actions</h2>
        <div class="borderBox">
          <div fxLayout="column" fxLayoutAlign="center">
            <i
              fxFlex="100"
              class="fa-regular fa-square-plus"
              class="fontSize20"
            ></i>
            <h4 fxFlex="100" class="quickActions">Top Up</h4>
          </div>
          <mat-divider [vertical]="true" style="margin: 0px 20px"></mat-divider>
          <div fxLayout="column" fxLayoutAlign="center">
            <i
              fxFlex="100"
              class="fa-regular fa-paper-plane"
              class="fontSize20"
            ></i>
            <h4 fxFlex="100" class="quickActions">Transfer</h4>
          </div>
          <mat-divider [vertical]="true" style="margin: 0px 20px"></mat-divider>
          <div fxLayout="column" fxLayoutAlign="center">
            <i
              fxFlex="100"
              class="fa-solid fa-money-check"
              class="fontSize20"
            ></i>
            <h4 fxFlex="100" class="quickActions">Withdrawal</h4>
          </div>
        </div>
        <mat-divider class="marginupDown20"></mat-divider>
        <div fxLayout="row" fxLayoutAlign="center">
          <h2 fxFlex="80" class="fontWeight500">Saving Plan</h2>
          <div fxFlex="20" align="right">
            <i class="fa-solid fa-circle-plus" class="fontSize20"></i>
          </div>
        </div>
        <div *ngFor="let item of savingPlan">
          <div class="borderBox1">
            <div fxLayout="row">
              <div class="box1" fxFlex="20">
                <i [class]="item.icon" style="font-size: 18px; margin: 0px"></i>
              </div>
              <div fxFlex="70" align="left">
                <h3 class="fontWeight600">{{ item.title }}</h3>
                <p class="colorGrey" style="font-size: 15px">Target $2,000</p>
              </div>
              <div fxFlex="10">
                <i
                  class="fa-solid fa-ellipsis colorGrey"
                  class="fontSize20"
                ></i>
              </div>
            </div>
            <div style="margin-top: 20px">
              <div fxLayout="row">
                <div fxFlex="80" align="left">
                  <h3 class="fontWeight600 fontSize14">Total: $1,000</h3>
                </div>
                <div fxFlex="20" align="right">
                  <p class="colorGrey fontWeight600 fontSize14">50%</p>
                </div>
              </div>
              <mat-progress-bar
                mode="determinate"
                value="50"
              ></mat-progress-bar>
            </div>
          </div>
        </div>
      </div>
      <div fxFlex="70">
        <div class="whitebox1">
          <h2>
            Total Balance
            <span style="float: right">
              <i class="fa-solid fa-ellipsis colorGrey"></i>
            </span>
          </h2>
          <h1 class="fontWeight600" style="font-size: 30px; margin: 15px 0px">
            ${{ paymentBalance?.total_balance }}
          </h1>
          <mat-progress-bar
            mode="determinate"
            [value]="paymentBalance?.payment_done_percentage"
          ></mat-progress-bar>
          <div fxLayout="row">
            <div fxFlex="80" align="left">
              <h3 class="moneyStatics">Monthly payment limit</h3>
            </div>
            <div fxFlex="20" align="right">
              <p class="fontWeight600 fontSize13">
                ${{ paymentBalance?.monthly_payment_limit }}
                <span class="colorGrey">
                  /${{ paymentBalance?.payment_done_so_far }}
                </span>
              </p>
            </div>
          </div>
        </div>
        <div class="whitebox1">
          <h2>
            Money Statictics
            <span style="float: right">
              <span class="box fontSize12">
                Monthly <i class="fas fa-angle-down colorGrey"></i>
              </span>
              <i
                class="fa-solid fa-ellipsis colorGrey"
                style="padding-left: 10px"
              ></i>
            </span>
          </h2>
          <div style="display: flex">
            <div fxLayout="column">
              <h3 fxFlex="100" class="moneyStatics">Total Income</h3>
              <h2 fxFlex="100" class="moneyStatisstats">
                ${{ moneyStats?.total_income?.value }}
              </h2>
              <div fxFlex="100" class="colorGrey">
                <i
                  class="fas fa-chart-line"
                  [ngStyle]="{ color: moneyStats?.total_income?.trend_color }"
                ></i>
                <span
                  [ngStyle]="{ color: moneyStats?.total_income?.trend_color }"
                >
                  +{{ moneyStats?.total_income?.trend }}%
                </span>
                from last month
              </div>
            </div>
            <mat-divider
              [vertical]="true"
              style="margin: 0px 20px"
            ></mat-divider>
            <div fxLayout="column">
              <h3 fxFlex="100" class="moneyStatics">Total Expense</h3>
              <h2 fxFlex="100" class="moneyStatisstats">
                ${{ moneyStats?.total_expense?.value }}
              </h2>
              <div fxFlex="100" class="colorGrey">
                <i
                  class="fas fa-chart-line"
                  [ngStyle]="{ color: moneyStats?.total_expense?.trend_color }"
                ></i>
                <span
                  [ngStyle]="{ color: moneyStats?.total_expense?.trend_color }"
                >
                  +{{ moneyStats?.total_expense?.trend }}%
                </span>
                from last month
              </div>
            </div>
            <mat-divider
              [vertical]="true"
              style="margin: 0px 20px"
            ></mat-divider>
            <div fxLayout="column">
              <h3 fxFlex="100" class="moneyStatics">Total Investment</h3>
              <h2 fxFlex="100" class="moneyStatisstats">
                ${{ moneyStats?.total_investment?.value }}
              </h2>
              <div fxFlex="100" class="colorGrey">
                <i
                  class="fas fa-chart-line"
                  [ngStyle]="{
                    color: moneyStats?.total_investment?.trend_color
                  }"
                ></i>
                <span
                  [ngStyle]="{
                    color: moneyStats?.total_investment?.trend_color
                  }"
                >
                  +{{ moneyStats?.total_investment?.trend }}%
                </span>
                from last month
              </div>
            </div>
          </div>
          <div style="margin-top: 20px">
            <apx-chart
              [series]="chartSeries"
              [chart]="chartDetails"
              [labels]="chartLabel"
            ></apx-chart>
          </div>
        </div>
        <div class="whitebox1">
          <div fxLayout="row">
            <h2 fxFlex="30">Transaction History</h2>
            <div align="right" fxFlex="70">
              <mat-form-field class="formSearch">
                <input matInput placeholder="Search" value="" />
              </mat-form-field>
              <span class="box fontSize12">
                <i class="fa-solid fa-filter colorGrey"></i>
                Filter
              </span>
              <span class="box fontSize12">
                <i class="fa-regular fa-file-excel colorGrey"></i>
                Export
              </span>
            </div>
          </div>
          <div class="tableHeight">
            <table mat-table [dataSource]="dataSource">
              <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Date
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.date | date : "MMM d,yyyy" }}
                </td>
              </ng-container>

              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Name
                </th>
                <td mat-cell *matCellDef="let element">{{ element.name }}</td>
              </ng-container>

              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Status
                </th>
                <td mat-cell *matCellDef="let element">
                  <span
                    [ngStyle]="{
                      color:
                        element.status === 'Success'
                          ? 'darkgreen'
                          : element.status === 'Pending'
                          ? 'Orange'
                          : 'red',
                      background:
                        element.status === 'Success'
                          ? 'lightgreen'
                          : element.status === 'Pending'
                          ? 'yellow'
                          : 'pink'
                    }"
                    style="padding: 8px; width: 20px; border-radius: 10px"
                    >{{ element.status }}</span
                  >
                </td>
              </ng-container>

              <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Type
                </th>
                <td mat-cell *matCellDef="let element">{{ element.type }}</td>
              </ng-container>
              <ng-container matColumnDef="time">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Time
                </th>
                <td mat-cell *matCellDef="let element">
                  {{ element.date | date : "hh:mm a" }}
                </td>
              </ng-container>
              <ng-container matColumnDef="amount">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Amount
                </th>
                <td mat-cell *matCellDef="let element">
                  ${{ element.amount }}
                </td>
              </ng-container>

              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef class="tableheader">
                  Action
                </th>
                <td mat-cell *matCellDef="let element">
                  <i
                    class="fa-solid fa-ellipsis"
                    style="font-size: 20px; cursor: pointer"
                    (click)="openDialog(element)"
                  ></i>
                </td>
              </ng-container>

              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
